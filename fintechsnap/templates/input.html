{% extends "base.html" %}
{% block title %}Enter Your Details — FinMentor{% endblock %}

{% block content %}

<div class="min-h-screen bg-[#FAF7F5] flex items-center justify-center px-4 py-12">
  <div class="w-full max-w-2xl bg-white rounded-2xl shadow-md p-8">

    <h1 class="text-2xl font-bold text-gray-900 mb-2">
      Start Your Financial Health Check
    </h1>
    <p class="text-gray-600 mb-6">
      Enter your monthly financial details (approximate values are fine).
    </p>

    <form method="post" action="{% url 'compute_health' %}" class="space-y-6">
      {% csrf_token %}

      <!-- Monthly Income -->
      <div>
        <label class="block text-sm font-medium text-gray-700">
          Monthly Income (₹)
        </label>
        <input type="number" step="0.01" name="income"
               class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2"
               value="{{ record.income|default:'' }}" required>
      </div>

      <!-- EMI -->
      <div>
        <label class="block text-sm font-medium text-gray-700">
          EMI (₹)
          <span class="text-xs text-gray-500">(EMIs)</span>
        </label>
        <input type="number" step="0.01" name="fixed"
               class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2"
               value="{{ record.fixed_obligations|default:'' }}">
      </div>

      <!-- Expense Breakdown -->
      <h2 class="text-lg font-semibold text-gray-800 pt-4 border-t">
        Monthly Expense Breakdown
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

        <div>
          <label class="block text-sm font-medium text-gray-700">Rent</label>
          <input type="number" step="0.01" name="rent"
            value="{{ category.Rent|default:'' }}"
            class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2">

        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700">Groceries</label>
          <input type="number" step="0.01" name="groceries"
            value="{{ category.Groceries|default:'' }}"
            class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2">

        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700">Transport</label>
          <input type="number" step="0.01" name="transport"
                 class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2" value="{{ category.Transport|default:'' }}">
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700">Utilities</label>
          <input type="number" step="0.01" name="utilities"
                 class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2" 
                 value="{{ category.Utilities|default:'' }}">
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700">Dining Out</label>
          <input type="number" step="0.01" name="dining_out"
                 class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2"
                 value="{{ category.Dining_Out|default:'' }}">
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700">Shopping</label>
          <input type="number" step="0.01" name="shopping"
                value="{{ category.Shopping|default:'' }}"
                class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2">
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700">Entertainment</label>
          <input type="number" step="0.01" name="entertainment"
                value="{{ category.Entertainment|default:'' }}"
                class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2">
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700">Healthcare</label>
          <input type="number" step="0.01" name="healthcare"
                value="{{ category.Healthcare|default:'' }}"
                class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2">
        </div>

        <div class="md:col-span-2">
          <label class="block text-sm font-medium text-gray-700">Education</label>
          <input type="number" step="0.01" name="education"
                value="{{ category.Education|default:'' }}"
                class="mt-1 w-full rounded-lg border-gray-300 px-3 py-2">
        </div>


      </div>

      <!-- Submit -->
      <div class="pt-6 flex justify-between">
        <a href="{% url 'landing' %}" class="text-sm text-gray-500">
          ← Back
        </a>
        <button type="submit"
                class="px-6 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700">
          Continue to Dashboard
        </button>
      </div>

    </form>
  </div>
</div>

{% endblock %}
